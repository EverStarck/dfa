(()=>{var t={398:(t,e,s)=>{var r=s(449).Rule,n=s(36);t.exports=function(t){function e(t,e){for(var s=[],r=0,n=1;n<=e;++r,n<<=1)n&e&&s.push(t[r]);return s}t.prototype.annotateNullables=function(){if(this.hasOwnProperty("nullables"))return this.nullables;this.nullables=[];for(var t=[],e=[],s=this.getReverseMap(),r=0;r<this.symbolsList.length;++r)this.symbolMap[this.symbolsList[r]].nullable=!1;for(r=0;r<this.rules.length;++r){for(var n=0,i=this.rules[r],o=!0,l=0;l<i.production.length;++l){if("NT"!==i.production[l].type){o=!1;break}++n}o?e.push(n):e.push(0),0!=i.production.length||this.symbolMap[i.name].nullable||(this.symbolMap[i.name].nullable=!0,t.push(i.name),this.nullables.push(i.name))}for(r=0;r<this.rules.length;++r)this.rules[r]._index=r;for(;t.length>0;){var a=t.pop();for(r=0;r<s[a].length;++r){var u=s[a][r];0!=--e[u._index]||this.symbolMap[u.name].nullable||(this.symbolMap[u.name].nullable=!0,t.push(u.name),this.nullables.push(u.name))}}for(r=0;r<this.rules.length;++r)delete this.rules[r]._index;return this.nullables},t.prototype.annotateUnreachables=function(){if(this.hasOwnProperty("unreachables"))return this.unreachables;this.unreachables=[];for(var t=[this.start],e=0;e<this.symbolsList.length;++e)this.symbolMap[this.symbolsList[e]].unreachable=!0;for(this.symbolMap[this.start].unreachable=!1;t.length>0;)for(var s=t.pop(),r=0;r<this.symbolMap[s].rules.length;++r)for(var n=this.symbolMap[s].rules[r],i=0;i<n.production.length;++i){var o=n.production[i];"NT"===o.type&&this.symbolMap[o.data].unreachable&&(this.symbolMap[o.data].unreachable=!1,t.push(o.data))}for(e=0;e<this.symbolsList.length;++e)this.symbolMap[this.symbolsList[e]].unreachable&&this.unreachables.push(this.symbolsList[e]);return this.unreachables},t.prototype.annotateUseless=function(){if(this.hasOwnProperty("uselesses"))return this.uselesses;this.uselesses=[];for(var t=[],e=[],s=this.getReverseMap(),r=0;r<this.symbolsList.length;++r)this.symbolMap[this.symbolsList[r]].useless=!0;for(r=0;r<this.rules.length;++r){for(var n=0,i=this.rules[r],o=0;o<i.production.length;++o)"NT"===i.production[o].type&&++n;e.push(n),0==n&&this.symbolMap[i.name].useless&&(this.symbolMap[i.name].useless=!1,t.push(i.name))}for(r=0;r<this.rules.length;++r)this.rules[r]._index=r;for(;t.length>0;){var l=t.pop();for(r=0;r<s[l].length;++r){var a=s[l][r];0==--e[a._index]&&this.symbolMap[a.name].useless&&(this.symbolMap[a.name].useless=!1,t.push(a.name))}}for(r=0;r<this.symbolsList.length;++r)this.symbolMap[this.symbolsList[r]].useless&&this.uselesses.push(this.symbolsList[r]);for(r=0;r<this.rules.length;++r)delete this.rules[r]._index;return this.uselesses},t.prototype.annotateSelfDeriving=function(){if(this.hasOwnProperty("selfDerivings"))return this.selfDerivings;this.selfDerivings=[],this.annotateNullables();for(var t={},e=0;e<this.symbolsList.length;++e)t[this.symbolsList[e]]={};t:for(e=0;e<this.rules.length;++e){var s=this.rules[e].name,r=this.rules[e].production;if(0!=r.length){for(var n=0;n<r.length;++n)if("T"==r[n].type)continue t;if(1!=r.length){var i=null;for(n=0;n<r.length;++n)if(!this.symbolMap[r[n].data].nullable){if(null!==i)continue t;i=r[n].data}if(null!==i)t[s][i]=!0;else for(n=0;n<r.length;++n)t[s][r[n].data]=!0}else t[s][r[0].data]=!0}}for(e=0;e<this.symbolsList.length;++e)for(n=0;n<this.symbolsList.length;++n)for(var o=0;o<this.symbolsList.length;++o)t[this.symbolsList[e]][this.symbolsList[o]]&&t[this.symbolsList[o]][this.symbolsList[n]]&&(t[this.symbolsList[e]][this.symbolsList[n]]=!0);for(e=0;e<this.symbolsList.length;++e){var l=this.symbolsList[e];t[l][l]?(this.symbolMap[l].selfDeriving=!0,this.selfDerivings.push(l)):this.symbolMap[l].selfDeriving=!1}return this.selfDerivings},t.prototype.strippedUseless=function(){this.annotateUseless();for(var e=[],s=0;s<this.rules.length;++s){var r=this.rules[s];if(!this.symbolMap[r.name].useless){var i;for(i=0;i<r.production.length&&("NT"!=r.production[i].type||!this.symbolMap[r.production[i].data].useless);++i);i==r.production.length&&e.push(r)}}if(0==e.length)return{empty:!0};var o=t(e,this.start);return 0===o.symbolMap[o.start].rules.length?{empty:!0}:(n(0==o.annotateUseless().length,"Haven't actually eliminated all useless productions?"),o)},t.prototype.strippedUnreachable=function(){this.annotateUnreachables();for(var e=[],s=0;s<this.rules.length;++s){var r=this.rules[s];this.symbolMap[r.name].unreachable||e.push(r)}if(0==e.length)return{empty:!0};var i=t(e,this.start);return 0===i.symbolMap[i.start].rules.length?{empty:!0}:(n(0==i.annotateUnreachables().length,"Haven't actually eliminated all unreachable productions?"),i)},t.prototype.strippedUnitProductions=function(){var e=[],s=[],n=[];function i(t){(function(t){for(var e=0;e<s.length;++e)if(s[e].equals(t))return!0;for(e=0;e<n.length;++e)if(n[e].equals(t))return!0;return!1})(t)||n.push(t)}for(var o=0;o<this.rules.length;++o)1!==(l=this.rules[o]).production.length||"T"==l.production[0].type?e.push(l):i(l);for(;n.length>0;){var l=n.pop();s.push(l);var a=l.production[0].data;if(a!==l.name)for(var u=0;u<this.symbolMap[a].rules.length;++u){var h=this.symbolMap[a].rules[u],p=r(l.name,h.production.slice(0));1!==p.production.length||"T"==p.production[0].type?e.push(p):i(p)}}return 0==e.length?{empty:!0}:t(e,this.start)},t.prototype.strippedDuplicates=function(){for(var e=[],s=0;s<this.rules.length;++s){var r,n=this.rules[s];for(r=0;r<e.length&&!e[r].equals(n);++r);r==e.length&&e.push(n)}return t(e,this.start)},t.prototype.stripped=function(){var t=this.strippedUnitProductions();return t.empty||(t=t.strippedUseless()).empty||(t=t.strippedUnreachable()).empty?t:(n(0==t.annotateUseless().length,"Suddenly there are more useless symbols?"),t=t.strippedDuplicates())},t.prototype.deNulled=function(){var s=this.stripped();if(s.empty)return s.makesEpsilon=!1,s;s.annotateNullables();var i=s.symbolMap[s.start].nullable;newRules=[];for(var o=0;o<s.rules.length;++o){var l=s.rules[o];if(0!=l.production.length){for(var a=[],u=0;u<l.production.length;++u)"NT"==l.production[u].type&&s.symbolMap[l.production[u].data].nullable&&a.push(u);if(0!=a.length){var h=a.length==l.production.length?1:0,p=Math.pow(2,a.length)-h;for(u=0;u<p;++u){for(var f=e(a,u),c=[],d=0;d<l.production.length;++d)-1==f.indexOf(d)&&c.push(l.production[d]);newRules.push(r(l.name,c))}}else newRules.push(l)}}return 0==newRules.length?{empty:!0,makesEpsilon:i}:(s=t(newRules,s.start),n(0==s.annotateNullables().length,"Having removed nullables, there are still nullables."),(s=s.stripped()).makesEpsilon=i,n(s.empty||0==s.annotateSelfDeriving().length,"Removing nullables and unit productions did not prevent self-deriving, somehow."),s)},t.prototype.alphabet=function(){var t=this.deNulled();if(t.empty)return"";var e=[];return t.rules.forEach((function(t){t.production.forEach((function(t){"T"===t.type&&-1===e.indexOf(t.data)&&e.push(t.data)}))})),e.sort().join("")}}},36:t=>{t.exports=function(t,e){if(!t)throw new Error(e)}},138:(t,e,s)=>{t.exports={types:s(449),parser:s(477)}},477:(t,e,s)=>{var r=s(36),n=s(449);s(398)(n.Grammar);var i={},o={},l={},a={},u={},h={},p={};i.PRODUCEONE=u,i.PRODUCETWO=h,i.PRODUCEALL=p,i.PRODUCECOUNT=h;var f=n.NT,c=n.T,d=n.Rule;function m(t,e,s,n){if(!(this instanceof m))return new m(t,e,s,n);this.rule=t,this.index=e,this.predecessor=s,this.backPointers=n||[],r(this.index==this.backPointers.length)}n.Grammar,m.prototype.done=function(){return this.index===this.rule.production.length},m.prototype.compare=function(t){return this.rule===t.rule&&this.index===t.index&&this.predecessor===t.predecessor?function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!=e.length)return!1;for(var s=0;s<t.length;++s)if(t[s]!==e[s])return!1;return!0}(this.backPointers,t.backPointers)?a:l:o},m.prototype.next=function(){return this.rule.production[this.index]},m.prototype.toString=function(){return"("+this.rule.name+" -> "+this.rule.production.slice(0,this.index).join("")+"*"+this.rule.production.slice(this.index).join("")+", "+this.predecessor.toString()+")"},i.parse=function(t,e,s){if("string"!=typeof e)throw Error("Can't parse non-string object "+typeof e);var r=i.PRODUCECOUNT;s&&(i.PRODUCECOUNT=s);for(var n=[],o=0;o<=e.length;++o)n.push([]);function b(t,e){for(var s=0,r=0;r<n[e].length;++r){var o=t.compare(n[e][r]);if(o==a||o==l&&i.PRODUCECOUNT==u)return!0;if(o==l&&i.PRODUCECOUNT==h&&++s>1)return!0}return!1}function y(t,s){if(t.next().equals(c(e[s]))){var r=t.backPointers.slice(0);r.push(null);var i=m(t.rule,t.index+1,t.predecessor,r);b(i,s+1)||n[s+1].push(i)}}function g(e,s){for(var r=e.next(),i=0;i<t.symbolMap[r.data].rules.length;++i)b(l=m(t.symbolMap[r.data].rules[i],0,s),s)||n[s].push(l);for(i=0;i<n[s].length;++i){var o=n[s][i];if(o.rule.name===r.data&&o.predecessor===s&&o.done()){var l,a=e.backPointers.slice(0);a.push(o),b(l=m(e.rule,e.index+1,e.predecessor,a),s)||n[s].push(l)}}}function v(t,e){for(var s=f(t.rule.name),r=0;r<n[t.predecessor].length;++r){var i=n[t.predecessor][r];if(!i.done()&&s.equals(i.next())){var o=i.backPointers.slice(0);o.push(t);var l=m(i.rule,i.index+1,i.predecessor,o);b(l,e)||n[e].push(l)}}}if(i.PRODUCECOUNT==p&&0!==t.annotateSelfDeriving().length)throw Error("Asked for all parses, but grammar can produce infinitely many parses for some string. Check grammar.annotateSelfDeriving() for specifics.");var M=t.start,x=d(["GAMMA"],[f(M)]);for(n[0].push(m(x,0,0)),o=0;o<=e.length;++o)for(var L=0;L<n[o].length;++L)(U=n[o][L]).done()?v(U,o):"NT"==U.next().type?g(U,o):y(U,o);var T=[];for(o=0;o<n[e.length].length;++o){var U;(U=n[e.length][o]).rule===x&&U.done()&&T.push(U)}return i.PRODUCECOUNT=r,T},t.exports=i},449:t=>{function e(t,e){this.type=t,this.data=e}function s(t){return t.replace(/['\\]/g,(function(t){return"\\"+t})).replace(/\n/g,"\\n").replace(/\r/g,"\\r")}function r(t,e){if(!(this instanceof r))return new r(t,e);this.name=t,this.production=e}function n(t,e){if(!(this instanceof n))return new n(t,e);this.rules=t,this.start=e||t[0].name,this.symbolMap={},this.symbolsList=e?[e]:[],e&&(this.symbolMap[e]={rules:[]});for(var s=0;s<this.rules.length;++s){var r=this.rules[s].name;r in this.symbolMap||(this.symbolMap[r]={rules:[]},this.symbolsList.push(r));for(var i=0;i<this.rules[s].production.length;++i){var o=this.rules[s].production[i];"NT"!=o.type||o.data in this.symbolMap||(this.symbolMap[o.data]={rules:[]},this.symbolsList.push(o.data))}this.symbolMap[r].rules.push(this.rules[s])}}e.prototype.equals=function(t){return t.type===this.type&&t.data===this.data},e.prototype.toString=function(){return this.data.toString()},r.prototype.equals=function(t){if(t.name!==this.name)return!1;if(t.production.length!==this.production.length)return!1;for(var e=0;e<t.production.length;++e)if(!t.production[e].equals(this.production[e]))return!1;return!0},r.prototype.toString=function(){return this.name+" -> "+this.production.join("")},r.prototype.repr=function(){for(var t="Rule('"+s(this.name)+"', [",e=0;e<this.production.length;++e)e>0&&(t+=", "),t+=this.production[e].type+"('"+s(this.production[e].data)+"')";return t+"])"},n.prototype.repr=function(){for(var t="Grammar([\n  ",e=0;e<this.rules.length;++e)e>0&&(t+=",\n  "),t+=this.rules[e].repr();return t+"\n], '"+s(this.start)+"')"},n.prototype.getReverseMap=function(){if(!this.hasOwnProperty("_reverseMap")){this._reverseMap={};for(var t=0;t<this.symbolsList.length;++t)this._reverseMap[this.symbolsList[t]]=[];for(t=0;t<this.rules.length;++t)for(var e=this.rules[t],s=0;s<e.production.length;++s)"NT"===e.production[s].type&&this._reverseMap[e.production[s].data].push(e)}return this._reverseMap},t.exports={Sym:e,NT:function(t){return new e("NT",t)},T:function(t){return new e("T",t)},Rule:r,Grammar:n}}},e={};function s(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,s),i.exports}(()=>{const{types:t,parser:e}=s(138),r=t.NT,n=t.T,i=t.Rule,o=t.Grammar,l={0:o([i("S",[r("A"),r("B")]),i("A",[n("a"),r("A"),r("A")]),i("A",[n("a"),r("A")]),i("A",[n("a")]),i("B",[n("b"),r("B")]),i("B",[n("b")])]),1:o([i("S",[r("A"),r("B")]),i("S",[r("C")]),i("A",[n("a"),r("A"),n("b")]),i("A",[n("c"),n("b")]),i("B",[n("c"),r("B"),n("d")]),i("B",[n("c"),n("d")]),i("C",[n("a"),r("C"),n("d")]),i("C",[n("a"),r("D"),n("d")]),i("D",[n("b"),r("D"),n("c")]),i("D",[n("b"),n("c")])]),2:o([i("S",[r("S"),r("S")]),i("S",[n("("),r("S"),n(")")]),i("S",[n("("),n(")")])])};function a(t){const s=document.querySelector(`#dfa${t}_input`),r=document.querySelector(`#dfa${t}_label`),n=l[t],i=s.value;!function(t,e,s){if(t)return e.classList="block w-full p-4 text-sm text-green border border-green rounded-lg bg-bg_tertiary focus:ring-blue-500 focus:border-blue-500",s.classList="block mb-2 text-sm font-medium text-green",void(s.innerHTML="CFG Valid!");e.classList="block w-full p-4 text-sm text-red border border-red rounded-lg bg-bg_tertiary focus:ring-blue-500 focus:border-blue-500",s.classList="block mb-2 text-sm font-medium text-red",s.innerHTML="CFG Invalid!"}(e.parse(n,i).length>0,s,r)}window.onload=function(){for(let t=0;t<3;t++)document.querySelector(`#dfa${t}_button`).onclick=()=>a(t)}})()})();